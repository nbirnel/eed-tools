#!/bin/sh

rm -f eed-tools.1

cat >eed-tools.1<<EOHEADER
.TH eed-tools 1 eed-tools\-0.0.1
.SH NAME
eed-tools\- tools for manipulating electronic evidence discovery files
.SH SYNOPSIS
This is a collection of tools for manipulating files used by various EED
programs.
None of the tools do any discovery \(em 
they merely process lfp, dii, opt, and other files generated by 
Ipro, Summation, Relativity, or Concordance.
These are largely not portable, 
and need to be run under Cygwin.
.SH PROGRAMS
EOHEADER

{
    for i in $@; do
        ( cd $i && { for j in *.[1-9]; do
            man "./$j" | col -b | grep -A1 '^NAME' | sed -n 2p 
        done } 
        )
    done 
} | sort | sed 's/^ */.B /; s/- /\n\\- /; s/$/\n.br/' >>eed-tools.1

# FIXME license 

cat >>eed-tools.1<<EOLICENSE
.SH RUNTIME DEPENDENCIES
perl, cygwin, csv-tools (http://github.com/nbirnel/csv-tools)
.SH RELATED TOOLS
.B csv-tools 
(http://github.com/nbirnel/csv-tools)
.br
.B expand-range 
(http://github.com/nbirnel/expand-range)
.br
.B xrefup 
(http://github.com/nbirnel/xrefup)
.br
.SH LICENSE
\(co 2011, 2012, 2013 Noah Birnel
.sp
You may use this documentation however you like.
EOLICENSE


